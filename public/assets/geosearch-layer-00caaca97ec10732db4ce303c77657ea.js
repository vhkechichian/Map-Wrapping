function replaceMapTable(a){for(var e=0;e<a.length;e++){var p=a[e],r="<tr id='map-row-"+p.id+"' class='minimap-tr'><td class='mini-map-thumb'><img src='"+mapThumbBaseURL+"/"+p.id+"' height='70' ></td><td>"+p.name+"<br /><a href='"+mapBaseURL+"/"+p.id+"' target='_blank'>Open layer</a> </td></tr>";jQuery("#searchmap-table").append(r)}addClickToTable()}function insertMapTablePagination(a,e,p){var r=p*e,t=r-e,n=!1,o=p+1,d=p-1;p>a/e&&(r=a,n=!0);var m="<caption>Found "+a+" Layers. Showing "+t+" - "+r;jQuery("#searchmap-table").append(m);var i="",s="<a href='#' onclick='do_search("+o+"); return false;'>More<a/>",l="";p>1&&(l="<a href='#' onclick='do_search("+d+");'>Prev</a>&nbsp;&nbsp; "),n&&(s=""),i="<tfoot><tr><td  colspan='2'>"+l+s+"</td></tr></tfoot>",jQuery("#searchmap-table").append(i)}function addMapToMapLayer(a){var e=mapIndexLayer,p=new OpenLayers.Feature.Vector(new OpenLayers.Bounds.fromString(a.bbox).transform(e.map.displayProjection,e.map.projection).toGeometry());p.mapTitle=a.name,p.mapId=a.id,e.addFeatures([p])}function onFeatureSelect(a){selectedFeature=a,popup=new OpenLayers.Popup.FramedCloud("cheese",a.geometry.getBounds().getCenterLonLat(),null,"<div class='searchmap-popup'><a href='"+mapBaseURL+"/"+a.mapId+"' target='_blank'><a href='#a-map-row-"+a.mapId+"' ><img title='"+a.mapTitle+"' src='"+mapThumbBaseURL+"/"+a.mapId+"' height='80'></a><br /> <a href='"+mapBaseURL+"/"+a.mapId+"' target='_blank'>Open layer in new page.</a></div>",null,!0,onPopupClose),popup.panMapIfOutOfView=!1,popup.maxSize=new OpenLayers.Size(250,350),a.popup=popup,searchmap.addPopup(popup),jQuery("tr#map-row-"+a.mapId).addClass("highlight")}